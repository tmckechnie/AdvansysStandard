{
  "custom": {
    "ModelItemTagPath": "[StandardS71500]Standard/Model Item",
    "modules": [
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV203/200M003",
        "position": {
          "height": 40,
          "width": 40,
          "x": 695.097,
          "y": 359.759
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV204/200M004",
        "position": {
          "height": 40,
          "width": 40,
          "x": 1111.31,
          "y": 518.419
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV201/200M001",
        "position": {
          "height": 40,
          "width": 40,
          "x": 322.818,
          "y": 99.8038
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV202/200M002",
        "position": {
          "height": 40,
          "width": 40,
          "x": 934.205,
          "y": 681.948
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV205/200M005",
        "position": {
          "height": 40,
          "width": 40,
          "x": 1537.25,
          "y": 437.239
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV206/200M006",
        "position": {
          "height": 40,
          "width": 40,
          "x": 1819.86,
          "y": 613.067
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/SCR201/200M010",
        "position": {
          "height": 40,
          "width": 40,
          "x": 443,
          "y": 315
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV201/200WT001",
        "position": {
          "height": 35,
          "width": 125,
          "x": 169.313,
          "y": 39.1094
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV201/200WQ001",
        "position": {
          "height": 35,
          "width": 125,
          "x": 169.313,
          "y": 69.1094
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV202/200WT002",
        "position": {
          "height": 35,
          "width": 125,
          "x": 568.5,
          "y": 631.90625
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV202/200WQ002",
        "position": {
          "height": 35,
          "width": 125,
          "x": 568.5,
          "y": 662.156
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV204/200WQ003",
        "position": {
          "height": 35,
          "width": 125,
          "x": 927,
          "y": 500
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV204/200WT003",
        "position": {
          "height": 35,
          "width": 125,
          "x": 927,
          "y": 471.219
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV205/200WQ004",
        "position": {
          "height": 35,
          "width": 125,
          "x": 1357.57,
          "y": 407.078
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CV205/200WT004",
        "position": {
          "height": 35,
          "width": 125,
          "x": 1356.57,
          "y": 376.125
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CR201/200M007",
        "position": {
          "height": 40,
          "width": 40,
          "x": 324.815,
          "y": 206.281
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CR202/200M008",
        "position": {
          "height": 40,
          "width": 40,
          "x": 696.791,
          "y": 470.972
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CR203/200M009",
        "position": {
          "height": 40,
          "width": 40,
          "x": 1540.27,
          "y": 554.633
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/200SEQ001",
        "position": {
          "height": 93.99999999999999,
          "width": 201.9999999999999,
          "x": 1781.33,
          "y": 32.388374999999996
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/SP201/200AI001",
        "position": {
          "height": 35,
          "width": 89,
          "x": 1894.33,
          "y": 718.19
        }
      },
      {
        "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/SP201/200AI001",
        "position": {
          "height": 109,
          "width": 122,
          "x": 1779,
          "y": 707.41
        }
      }
    ],
    "refresh": false
  },
  "params": {
    "Cfg": {
      "UseAsPointer": false,
      "projectName": "AdvansysStandardDevelopment",
      "viewPath": "Model Views/StandardS71500/Standard/Examples/Material Handling/Wash Plant/Overview/Components/Layout"
    },
    "ClearSearchModule": false,
    "SearchModule": "200M009",
    "SelectedModule": {
      "TagPath": "[StandardS71500]Standard/Examples/Material Handling/Wash Plant/Feed/CR203/200M009",
      "position": {
        "height": 40,
        "width": 40,
        "x": 1540.27,
        "y": 554.633
      }
    }
  },
  "propConfig": {
    "custom.ModelItemTagPath": {
      "binding": {
        "config": {
          "expression": "runScript(\"Standard.Navigation.Common.GetCurrentModelItemTagPath\",0,{session.custom.CurrentModelItemTagPaths},{session.custom.UseSessionModelItemTagPath},{page.props.pageId})[\u0027ModelItemTagPath\u0027]"
        },
        "type": "expr"
      },
      "persistent": true
    },
    "custom.modules": {
      "binding": {
        "config": {
          "struct": {
            "projectName": "{view.params.Cfg.projectName}",
            "viewPath": "{view.params.Cfg.viewPath}"
          },
          "waitOnAll": true
        },
        "transforms": [
          {
            "code": "\t#return 1\n\t\t\t\n\tprojectName \u003d value[\u0027projectName\u0027] # e.g. \u0027AwesomeProject\u0027\n\tviewPath \u003d value[\u0027viewPath\u0027]  # e.g. \u0027Testing/View to Modify\u0027\n\t\n\tfrom com.inductiveautomation.ignition.gateway import IgnitionGateway\n\tcontext \u003d IgnitionGateway.get()\n\tprojectParentFolder \u003d str(context.systemManager.dataDir.absoluteFile).replace(\u0027\\\\\u0027,\u0027/\u0027) + \u0027/projects\u0027\t\n\tprojectFolder \u003d projectParentFolder + \u0027/\u0027 + projectName\n\tviewFolder \u003d projectFolder + \u0027/com.inductiveautomation.perspective/views/\u0027 + viewPath\n\t#return viewFolder\n\tviewJsonFile \u003d viewFolder + \u0027/view.json\u0027\n\t\n\t# read the view resource file as a string\n\tviewJsonStr \u003d system.file.readFileAsString(viewJsonFile)\n\t# convert it to Python objects (lists and dicts)\n\tviewJsonObj \u003d system.util.jsonDecode(viewJsonStr)\n\t#return viewJsonObj\n\tchildren \u003d viewJsonObj[\u0027root\u0027][\u0027children\u0027]\n\tmodules \u003d []\n\tfor child in children:\n\t\tchildType \u003d child[\u0027type\u0027]\n\t\tif childType \u003d\u003d \u0027ia.display.view\u0027 and \u0027params\u0027 in child[\u0027props\u0027]:\n\t\t\tpath \u003d child[\u0027props\u0027][\u0027path\u0027]\n\t\t\tif path \u003d\u003d \u0027Standard/Components/Symbols/Label\u0027:\n\t\t\t\tcontinue\n\t\t\tparams \u003d child[\u0027props\u0027][\u0027params\u0027]\n\t\t\tif \u0027TagPath\u0027 in params:\n\t\t\t\tmodule \u003d {}\n\t\t\t\t\n\t\t\t\tmodule[\u0027TagPath\u0027]\u003dparams[\u0027TagPath\u0027]\n\t\t\t\t#asset[\u0027child\u0027]\u003dchild\n\t\t\t\tmodule[\u0027position\u0027]\u003dchild[\u0027position\u0027]\n\t\t\t\tmodules.append(module)\n\treturn modules\n\t\t\t\t\t",
            "type": "script"
          }
        ],
        "type": "expr-struct"
      },
      "persistent": true
    },
    "custom.refresh": {
      "persistent": true
    },
    "params.Cfg": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.ClearSearchModule": {
      "paramDirection": "inout",
      "persistent": true
    },
    "params.SearchModule": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.SelectedModule": {
      "binding": {
        "config": {
          "struct": {
            "clearSearchModule": "{view.params.ClearSearchModule}",
            "options": "{/root/DropdownSelector.props.params.options}",
            "searchModule": "{view.params.SearchModule}"
          },
          "waitOnAll": true
        },
        "transforms": [
          {
            "code": "\tif value[\u0027clearSearchModule\u0027]:\n\t\tself.params.ClearSearchModule \u003d False\n\t\treturn None\n\t\t\n\t#Set Option based on searchAsset\n\tsearchModule \u003d value[\u0027searchModule\u0027]\n\toptions \u003d value[\u0027options\u0027]\n\tfor option in options:\n\t\tlabel \u003d str(option[\u0027label\u0027])\n\t\tif label \u003d\u003d str(searchModule):\n\t\t\treturn option[\u0027value\u0027]\t\n\treturn None",
            "type": "script"
          }
        ],
        "type": "expr-struct"
      },
      "paramDirection": "output",
      "persistent": true
    }
  },
  "props": {
    "defaultSize": {
      "height": 29,
      "width": 309
    }
  },
  "root": {
    "children": [
      {
        "meta": {
          "name": "DropdownSelector",
          "tooltip": {
            "enabled": true
          }
        },
        "position": {
          "basis": "50px",
          "grow": 1
        },
        "propConfig": {
          "meta.tooltip.text": {
            "binding": {
              "config": {
                "path": "view.params.SearchModule"
              },
              "type": "property"
            }
          },
          "position.display": {
            "binding": {
              "config": {
                "expression": "!{view.params.Cfg.UseAsPointer}"
              },
              "type": "expr"
            }
          },
          "props.params.Value": {
            "binding": {
              "config": {
                "bidirectional": true,
                "path": "view.params.SelectedModule"
              },
              "type": "property"
            }
          },
          "props.params.options": {
            "binding": {
              "config": {
                "path": "view.custom.modules"
              },
              "transforms": [
                {
                  "code": "\toptions \u003d []\n\toption \u003d {\"label\": \u0027None\u0027,\"value\": None}\n\toptions.append(option)\n\tfor module in value:\n\t\ttagPath \u003d module[\u0027TagPath\u0027]\n\t\tinstanceName \u003d tagPath.split(\u0027/\u0027)[-1]\n\t\toption \u003d {\"label\": instanceName,\"value\": module}\n\t\toptions.append(option)\n\treturn options",
                  "type": "script"
                }
              ],
              "type": "property"
            }
          }
        },
        "props": {
          "params": {
            "Enable": true,
            "Label": "Module To Highlight",
            "ShowLabel": true
          },
          "path": "Standard/Components/Faceplates/Input/LabelDropdown",
          "style": {
            "margin": 2
          }
        },
        "type": "ia.display.view"
      }
    ],
    "events": {
      "dom": {
        "onClick": {
          "config": {
            "script": "\tif self.view.params.Cfg.UseAsPointer:\n\t\tmodelItemTagPath \u003d self.view.custom.ModelItemTagPath\n\t\tuseSessionModelItemTagPath \u003d self.session.custom.UseSessionModelItemTagPath\n\t\tcurrentModelItemTagPaths \u003d self.session.custom.CurrentModelItemTagPaths\n\t\tperspectivePageID \u003d self.page.props.pageId\n\t\tself.session.custom.CurrentModelItemTagPaths \u003d Standard.Navigation.Common.UpdateCurrentModelItemTagPaths(UpdatedModelItemTagPath \u003d modelItemTagPath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t CurrentModelItemTagPaths \u003d currentModelItemTagPaths,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t UseSessionModelItemTagPath \u003d useSessionModelItemTagPath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t PerspectivePageID \u003d perspectivePageID,SearchModule\u003d\"\")"
          },
          "scope": "G",
          "type": "script"
        }
      }
    },
    "meta": {
      "name": "root"
    },
    "propConfig": {
      "props.style.classes": {
        "binding": {
          "config": {
            "expression": "if({view.params.Cfg.UseAsPointer},\u0027Standard/Body/Navigation/Identify\u0027,\u0027\u0027)"
          },
          "type": "expr"
        }
      }
    },
    "props": {
      "style": {}
    },
    "type": "ia.container.flex"
  }
}